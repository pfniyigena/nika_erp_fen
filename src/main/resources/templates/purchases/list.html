<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
<title th:text="#{label.purchase.list}"></title>
<th:block th:insert="~{fragments/header :: head}"></th:block>
</head>
<body>
	<th:block th:insert="~{fragments/header :: pre-loader}"></th:block>
	<div id="pcoded" class="pcoded">
		<div class="pcoded-overlay-box"></div>
		<div class="pcoded-container navbar-wrapper">

			<th:block th:insert="~{fragments/header :: navbar-top}"></th:block>

			<div class="pcoded-main-container">
				<div class="pcoded-wrapper">
					<th:block th:insert="~{fragments/header :: navbar-left}"></th:block>

					<div class="pcoded-content">
						<div class="pcoded-inner-content">
							<!-- Main-body start -->
							<div class="main-body">
								<div class="page-wrapper">
									<!-- Page-body start -->
									<div class="page-body">

										<!-- Hover table card start -->
										<div class="card">
											<div class="card-header">
												<h5 th:text="#{label.purchase.list}"></h5>
												<a href="#" th:href="@{/purchases/new}"
													class="btn btn-primary waves-effect waves-light f-right d-inline-block md-trigger"><em
													class="icofont icofont-plus m-r-5"></em><span
													th:text="#{label.button.new}"></span></a>

											</div>
											<div class="dt-responsive table-responsive">
												<table id="code-type-table"
													class="table table-striped table-bordered compact nowrap"
													th:if="${lists != null}">
													<caption></caption>
													<thead>
														<tr>
															<th scope="col" th:text="#{label.general.code}"></th>
															<th scope="col" th:text="#{label.invoice.date}"></th>
															<th scope="col" th:text="#{label.general.status}"></th>
															<th scope="col" th:text="#{label.button.actions}"></th>
														</tr>
													</thead>
													<tbody>
														<tr th:each="invoice : ${lists}">
															<td th:text="${invoice.internalCode}"></td>
															<td
																th:text="${#dates.format(invoice.createdAt, 'yyyy-MM-dd HH:mm:ss')}"></td>
															<td><span th:text="${invoice.status}"
																th:class="${invoice.status != null} ? 
                     (${invoice.status.name()} == 'PAID' ? 'badge bg-success' : 
                     (${invoice.status.name()} == 'DONE' ? 'badge bg-warning text-dark' : 'badge bg-danger')) 
                     : 'badge bg-secondary'">
															</span></td>
															<td><a href="#"
																th:href="@{'/purchases/view/' + ${invoice.id}}"
																class="waves-effect waves-dark"><span
																	class="pcoded-micon"><em class="fa fa-eye"></em></span></a>
															</td>
														</tr>

													</tbody>
												</table>
											</div>
										</div>

									</div>
									<!-- Hover table card end -->

								</div>

								<!-- Page-body end -->
							</div>
							<div id="styleSelector"></div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
	<th:block th:insert="~{fragments/header :: footer}"></th:block>
</body>

</html>
